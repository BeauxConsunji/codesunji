<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>NUMFACT - Number of Factors</title>
    <link rel="icon" href="/assets/images/logo.png" type="image/png" sizes="16x16">
    <link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/css/master.css">
    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
  </head>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  <body>
    <nav class="navbar navbar-expand-lg fixed-top">
  <a class="navbar-brand" href="/">codesunji</a>
  <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar" style="color: #fff">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbar">
    <ul class="navbar-nav ml-auto">
      
      <li class="nav-item"><a class="nav-link " href="/" >Home</a></li>
      
      <li class="nav-item"><a class="nav-link " href="/projects/" >Projects</a></li>
      
      <li class="nav-item"><a class="nav-link  active " href="/writeups/" >Write-ups</a></li>
      
    </ul>
  </div>
</nav>

<div class="container-fluid mt-5">
  <div class="row p-5">
  <div class="col-12 col-lg-10 p-5 bg-white mx-auto" style="max-width: 925px">
    <h1> NUMFACT - Number of Factors</h1>
    
    <blockquote>
  <p>This problem is from <a href="https://www.codechef.com/problems/NUMFACT">Codechef Medium Practice Problems (NUMFACT)</a></p>
</blockquote>

<blockquote>
  <p>I received the <a href="https://twitter.com/codechef/status/1291754732621529088?lang=en">Most Captivating Creator</a> award in the <a href="https://blog.codechef.com/2020/07/29/codechef-creator-hunt-finding-passionate-educators-across-the-globe/">CodeChef Creator Hunt</a> for my video explanation of this problem</p>
</blockquote>
<iframe width="560" height="315" src="https://www.youtube.com/embed/IuZ4SmWuPaI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<h3 id="problem">Problem</h3>
<p>Alice has learnt factorization recently. Bob doesn’t think she has learnt it properly and hence he has decided to quiz her. Bob gives Alice a very large number and asks her to find out the number of factors of that number. To make it a little easier for her, he represents the number as a product of \(N\) numbers. Alice is frightened of big numbers, you need to tell the number of distinct factors of the product of these \(N\) numbers.</p>

<h4 id="input">Input</h4>
<p>First line of input contains a single integer \(T\) \((1 \leq T \leq 100)\), the number of test cases.</p>

<p>Each test starts with a line containing a single integer \(N\) \((1 \leq N \leq 10)\).</p>

<p>The next line consists of \(N\) space separated integers \(A_i\) \((2 \leq A_i \leq 1000000)\).</p>

<h4 id="output">Output</h4>
<p>For each test case, output on a separate line the total number of factors of the product of given numbers.</p>

<h4 id="example">Example</h4>
<h5 id="input-1">Input</h5>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3
3
3 5 7
3
2 4 6
2
5 5
</code></pre></div></div>

<h5 id="output-1">Output</h5>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>8
10
3
</code></pre></div></div>
<p> 
 
 </p>
<h3 id="solution">Solution</h3>
<p>If we define the product of the \(N\) space separated integers as \(X\), a naive approach would be to check whether each integer from \(1\) to \(X\) is a factor of \(X\) and counting those that are. Even optimizing it further and checking from \(1\) to \(\sqrt{X}\) instead and counting each factor pair is not enough to make a solution that doesn’t exceed the time limit.</p>

<h4 id="idea">Idea</h4>
<p>All the factors of \(X\) are just its prime factors raised to different powers. For example when the input is \(3, 5, 7\), the product \((X)\) would be \(105\). Note, it is not always the case that the input is the same as the prime factors.</p>

<table>
  <thead>
    <tr>
      <th>factor</th>
      <th>prime factorization</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>\(3^0 \times 5^0 \times 7^0\)</td>
    </tr>
    <tr>
      <td>3</td>
      <td>\(3^1 \times 5^0 \times 7^0\)</td>
    </tr>
    <tr>
      <td>5</td>
      <td>\(3^0 \times 5^1 \times 7^0\)</td>
    </tr>
    <tr>
      <td>7</td>
      <td>\(3^0 \times 5^0 \times 7^1\)</td>
    </tr>
    <tr>
      <td>15</td>
      <td>\(3^1 \times 5^1 \times 7^0\)</td>
    </tr>
    <tr>
      <td>21</td>
      <td>\(3^1 \times 5^0 \times 7^1\)</td>
    </tr>
    <tr>
      <td>35</td>
      <td>\(3^0 \times 5^1 \times 7^1\)</td>
    </tr>
    <tr>
      <td>105</td>
      <td>\(3^1 \times 5^1 \times 7^1\)</td>
    </tr>
  </tbody>
</table>

<p> </p>

<p>Therefore, to find the total number of factors, compute the number of possible combinations of the prime factors raised from \(0\) up to the highest exponent. In this case, \(3\) can be raised from \(0\) to \(1\), \(5\) can be raised from \(0\) to \(1\), and \(7\) can be raised from \(0\) to \(1\) so the total number of combinations and hence the total number of factors are \(2 \times 2 \times 2 = 8\). Remember that it is \(2\) not \(1\) because we include \(0\) as a potential exponent.</p>

<h4 id="my-code">My Code</h4>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">N</span> <span class="o">=</span> <span class="mi">1000001</span><span class="p">;</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">primes</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">sieve</span><span class="p">()</span> <span class="p">{</span>
	<span class="kt">bool</span> <span class="n">isPrime</span><span class="p">[</span><span class="n">N</span><span class="p">];</span>
	<span class="n">isPrime</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">isPrime</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">isPrime</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">isPrime</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">*</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">isPrime</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">isPrime</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="n">primes</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">pFactorise</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">pFactors</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">p</span> <span class="o">:</span> <span class="n">primes</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">%</span> <span class="n">p</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">while</span> <span class="p">(</span><span class="n">n</span> <span class="o">%</span> <span class="n">p</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">n</span> <span class="o">/=</span> <span class="n">p</span><span class="p">;</span>
				<span class="n">pFactors</span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">sieve</span><span class="p">();</span>
	<span class="kt">int</span> <span class="n">t</span><span class="p">;</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">t</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">t</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="kt">int</span> <span class="n">n</span><span class="p">;</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">;</span>
		<span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">pFactors</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="kt">int</span> <span class="n">x</span><span class="p">;</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">x</span><span class="p">;</span>
			<span class="n">pFactorise</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">pFactors</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">j</span> <span class="o">:</span> <span class="n">pFactors</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">res</span> <span class="o">*=</span> <span class="n">j</span><span class="p">.</span><span class="n">second</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">res</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

    <br>
    <blockquote>
  <p>If you have any corrections, suggestions, or feedback, please feel free to email them to <a href="mailto:beaux@codesunji.com">beaux@codesunji.com</a>. I’d love to hear back from you and improve this site in any way I can :]</p>
</blockquote>

  </div>
  <div class="col-12 col-lg-2 p-5 mx-auto">
  </div>
</div>

</div>
<footer>
  <div class="container">
    <div class="row row-cols-1 row-cols-md-3">
      <div class="col-md-6">
        <ul>
          <li><h3>codesunji</h3></li>
          <li>© 2021 Beaux Consunji</li>
          <li>tech, thoughts, and other things</li>
      </div>
      <div class="col-md-3">
        <ul>
          <li><strong>LINKS</strong></li>
          <li><a href="mailto:beaux@codesunji.com">Contact Me</a></li>
          <li><a href="#projects">Projects</a></li>
          <li><a href="#writeups">Write-ups</a></li>
      </div>
      <div class="col-md-3">
        <ul>
          <li><strong>SOCIAL</strong></li>
          <li><a href="mailto:beaux@codesunji.com" target="_blank">Email</a></li>
          <li><a href="https://github.com/BeauxConsunji" target="_blank">Github</a></li>
      </div>
    </div>
  </div>
</footer>


  </body>
</html>
